{% extends 'base.html' %}
{% block title %}Votação - Jogos Internos 2025{% endblock %}

{% block extra_css %}
<style>
    .welcome-section { text-align: center; color: white; margin-bottom: 2rem; }
    .welcome-title { font-size: 2.5rem; font-weight: bold; }
    .welcome-subtitle { font-size: 1.2rem; }
    .status-banner { background-color: #d1e7dd; color: #0f5132; padding: 1rem; border-radius: 0.5rem; margin-bottom: 2rem; text-align: center; }
    .teams-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1.5rem; }
    .team-card {
        background-color: white; border-radius: 0.5rem; overflow: hidden;
        transition: transform 0.3s; position: relative; text-align: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    .team-card:hover { transform: translateY(-5px); }
    .team-image {
        width: 100%; height: 180px; background-size: contain; background-repeat: no-repeat;
        background-position: center; background-color: #f8f9fa;
    }
    .team-info { padding: 1rem; }
    .team-name { font-size: 1.5rem; margin-bottom: 0.5rem; }
    .team-subtitle { font-size: 1rem; color: #666; margin-bottom: 1rem; }
    .vote-btn { width: 100%; }
</style>
{% endblock %}

{% block content %}
<div class="welcome-section">
    <h1 class="welcome-title">Seja bem-vindo aos Jogos Jeis 2025!</h1>
    <p class="welcome-subtitle">Olá, {{ nome_aluno }}!</p>
</div>

{% if ja_votou %}
<div class="status-banner">
    <p>Você já votou! Obrigado por participar.</p>
</div>
{% elif messages %}
    {% for message in messages %}
        {% if message.tags == 'success' %}
        <div class="status-banner">
            <p>{{ message }}</p>
        </div>
        {% endif %}
    {% endfor %}
{% endif %}

<form method="post">
    {% csrf_token %}
    <div class="teams-grid">
        {% for logo in logomarcas %}
        <div class="team-card">
            <div class="team-image" style="background-image: url('{{ logo.imagem.url }}');"></div>
            <div class="team-info">
                <h3 class="team-name">{{ logo.nome }}</h3>
                <p class="team-subtitle">{{ logo.descricao }}</p>
                {% if not ja_votou %}
                <button type="submit" name="logo_id" value="{{ logo.id }}" class="btn btn-success vote-btn">Votar nesta Logomarca</button>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</form>
{% endblock %}